<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="ntpu.content">
<body>

<tal:comment tal:condition="nothing">
    This is a sample view template. It will not be used for rendering the
    content unless activated by creation of a view class with a matching name.
</tal:comment>
<tal:isowner condition="context/@@is_owner">
<metal:main fill-slot="content-core">

  <metal:content-core define-macro="content-core">



    <h2 i18n:translate="">Personal informat</h2>
    <div>
      <p><strong i18n:translate="">Name:</strong><span tal:replace="context/Title" /></p>
      <p><strong i18n:translate="">Email:</strong><span tal:replace="context/email" /></p>
      <form tal:attributes="action string:${context/absolute_url}/@@edit">
          <input type="submit" value="Edit profile" i18n:attributes="value"/>
      </form>
    </div>
    <br/><hr/>

<tal:admin define="roles context/@@get_roles"
             condition="python:'Site Administrator' in roles or 'Manager' in roles">

    <h2 i18n:translate="">New submitted article</h2>
    <div tal:define="brain view/newSubmitted" tal:repeat="item brain">
        <p><strong i18n:translate="">Article title(Chinese):</strong>
           <span tal:replace="item/articleTitleC" />
        </p>
        <p tal:condition="item/articleTitleE"><strong i18n:translate="">Article title(English):</strong>
           <span tal:replace="item/articleTitleE" />
        </p>
        <p tal:condition="item/abstract"><strong i18n:translate="">Abstract(Chinese):</strong>
           <span tal:replace="item/abstract" />
        </p>
        <p tal:condition="item/engAbstract"><strong i18n:translate="">Abstract(English):</strong>
           <span tal:replace="item/engAbstract" />
        </p>

      <form tal:attributes="action string:${item/getURL}">
          <input type="submit" value="Detail" i18n:attributes="value"/>
      </form>
      <br/>
    </div>
    <br/><hr/>
</tal:admin>

<tal:super_editor define="roles context/@@get_roles"
             condition="python:'Super Editor' in roles">

    <h2 i18n:translate="">New In Review article</h2>
    <div tal:define="brain view/newInReview" tal:repeat="item brain">
        <p><strong i18n:translate="">Article title(Chinese):</strong>
           <span tal:replace="item/articleTitleC" />
        </p>
        <p tal:condition="item/articleTitleE"><strong i18n:translate="">Article title(English):</strong>
           <span tal:replace="item/articleTitleE" />
        </p>
        <p tal:condition="item/abstract"><strong i18n:translate="">Abstract(Chinese):</strong>
           <span tal:replace="item/abstract" />
        </p>
        <p tal:condition="item/engAbstract"><strong i18n:translate="">Abstract(English):</strong>
           <span tal:replace="item/engAbstract" />
        </p>

      <form tal:attributes="action string:${item/getURL}">
          <input type="submit" value="Detail" i18n:attributes="value"/>
      </form>
      <br/>
    </div>
    <br/><hr/>

    <h2 i18n:translate="">Waitting for Review Article</h2>
    <div tal:define="brain view/internalAssigned" tal:repeat="item brain">
        <p><strong i18n:translate="">Article title(Chinese):</strong>
           <span tal:replace="item/articleTitleC" />
        </p>
        <p tal:condition="item/articleTitleE"><strong i18n:translate="">Article title(English):</strong>
           <span tal:replace="item/articleTitleE" />
        </p>
        <p tal:condition="item/abstract"><strong i18n:translate="">Abstract(Chinese):</strong>
           <span tal:replace="item/abstract" />
        </p>
        <p tal:condition="item/engAbstract"><strong i18n:translate="">Abstract(English):</strong>
           <span tal:replace="item/engAbstract" />
        </p>

      <form tal:attributes="action string:${item/getURL}">
          <input type="submit" value="Detail" i18n:attributes="value"/>
      </form>

      <br/>
    </div>
    <br/><hr/>
</tal:super_editor>


<tal:internalReview define="roles context/@@get_roles"
             condition="python:'Internal Reviewer' in roles or 'Manager' in roles">

    <h2 i18n:translate="">Waitting for Review Article</h2>
    <div tal:define="brain view/internalAssigned;
                               currentUserId context/@@getCurrentUserId"
            tal:repeat="item brain">
      <tal:check condition="python:item.assignInternalReviewer == currentUserId">
        <p><strong i18n:translate="">Article title(Chinese):</strong>
           <span tal:replace="item/articleTitleC" />
        </p>
        <p tal:condition="item/articleTitleE"><strong i18n:translate="">Article title(English):</strong>
           <span tal:replace="item/articleTitleE" />
        </p>
        <p tal:condition="item/abstract"><strong i18n:translate="">Abstract(Chinese):</strong>
           <span tal:replace="item/abstract" />
        </p>
        <p tal:condition="item/engAbstract"><strong i18n:translate="">Abstract(English):</strong>
           <span tal:replace="item/engAbstract" />
        </p>

      <form tal:attributes="action string:${item/getURL}">
          <input type="submit" value="Detail" i18n:attributes="value"/>
      </form>
      <br/>
      </tal:check>
    </div>
    <br/><hr/>
</tal:internalReview>


  </metal:content-core>

</metal:main>
</tal:isowner>
</body>
</html>

